#!/bin/sh

MENU=$(gum choose "Full" "Commit" "Push");

if [ "$MENU" = "Full" ]; then
	{
		git add *
		TYPE=$(gum choose "ğŸ©¹ Fix" "âš¡ Feat" "ğŸ“˜ Docs" "ğŸ’„ Style" "ğŸª„ Refactor" "ğŸ”§ Test" "âŒ Revert" "ğŸ§¼ Clean")
		SUMMARY=$(gum input --value "$TYPE: " --placeholder "Commit Message")
		gum confirm "Commit changes ?" && git commit -m "$SUMMARY"
		BRANCH=$(gum input --value "" --placeholder "origin master")
		gum confirm "Push changes to $BRANCH ?" && git push -u $BRANCH
	}
elif [ "$MENU" = "Commit" ]; then
	{
		git add *
		TYPE=$(gum choose "ğŸ©¹ Fix" "âš¡ Feat" "ğŸ“˜ Docs" "ğŸ’„ Style" "ğŸª„ Refactor" "ğŸ”§ Test" "âŒ Revert" "ğŸ§¼ Clean")
		SUMMARY=$(gum input --value "$TYPE: " --placeholder "Commit Message")
		gum confirm "Commit changes ?" && git commit -m "$SUMMARY"
	}
else
	{
		BRANCH=$(gum input --value "" --placeholder "origin master")
		gum confirm "Push changes to $BRANCH ?" && git push -u $BRANCH
	}
fi
